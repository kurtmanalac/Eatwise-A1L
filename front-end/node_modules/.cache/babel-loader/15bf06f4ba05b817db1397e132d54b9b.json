{"ast":null,"code":"import _classCallCheck from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/ruart/Desktop/Eatwise/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/ruart/Desktop/Eatwise/front-end/src/components/Landing.js\";\nimport React, { Component } from 'react';\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing() {\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Landing).call(this));\n    _this.state = {\n      user: [],\n      shop: [],\n      shopName: \"\"\n    };\n    _this.getData = _this.getData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.searchShop = _this.searchShop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateShopName = _this.updateShopName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      fetch('http://localhost:3000/home/view-users/').then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this2.setState({\n          user: result\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"updateShopName\",\n    value: function updateShopName(e) {\n      this.setState({\n        shopName: e.target.value\n      });\n      console.log(this.state.shopName);\n      this.searchShop(e);\n    }\n  }, {\n    key: \"searchShop\",\n    value: function searchShop(e) {\n      var _this3 = this;\n\n      var query = e.target.value;\n      fetch('http://localhost:3000/home/search-shop/?name=' + query).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this3.setState({\n          shop: result\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = this.state.user;\n      var items = data.map(function (i) {\n        return React.createElement(\"li\", {\n          key: i.userId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Username: \", i.username, \"Admin Access: \", i.adminAccess, \"Display Name: \", i.displayName);\n      });\n      var shops = this.state.shop;\n      var shopitems = shops.map(function (i) {\n        return React.createElement(\"li\", {\n          key: i.shopId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Shop name: \", i.name, \"Description: \", i.description);\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jumbotron mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-8 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"WELCOME\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"Search\",\n        placeholder: \"Search...\",\n        value: this.state.query,\n        onChange: this.updateShopName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Suggestions, {\n        results: this.state.shop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nvar Suggestions = function Suggestions(props) {\n  var data = props;\n  var options = props.results.map(function (r) {\n    return React.createElement(\"li\", {\n      key: r.shopId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, r.name);\n  });\n  return React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, options);\n};\n\nexport default Landing;","map":{"version":3,"sources":["/home/ruart/Desktop/Eatwise/front-end/src/components/Landing.js"],"names":["React","Component","Landing","state","user","shop","shopName","getData","bind","searchShop","updateShopName","fetch","then","response","json","result","console","log","setState","catch","e","target","value","query","data","items","map","i","userId","username","adminAccess","displayName","shops","shopitems","shopId","name","description","Suggestions","props","options","results","r"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nclass Landing extends Component {\n    constructor(){\n        super()\n        this.state = {\n            user:[],\n            shop: [],\n            shopName: \"\"\n        }\n        this.getData = this.getData.bind(this)\n        this.searchShop = this.searchShop.bind(this)\n        this.updateShopName = this.updateShopName.bind(this)\n    }\n\n\n\n    componentDidMount(){\n        this.getData()\n    }\n\n\n     getData() {\n        fetch('http://localhost:3000/home/view-users/')\n            .then((response) => { return response.json() })\n            .then((result) => {\n                console.log(result)\n                this.setState({user: result})\n            })\n            .catch((e) => { console.log(e)});\n    }\n\n    updateShopName(e){\n        this.setState({shopName: e.target.value})\n        console.log(this.state.shopName)\n        this.searchShop(e)\n    }\n   \n    searchShop(e){\n\n      const query = e.target.value;\n\n      fetch('http://localhost:3000/home/search-shop/?name='+query)\n            .then((response) => { return response.json() })\n            .then((result) => {\n                console.log(result)\n                this.setState({shop: result})\n            })\n            .catch((e) => { console.log(e)});\n    }\n\n\n    render(){\n      const data = this.state.user\n      const items = data.map((i) => <li key = {i.userId}>\n        Username: {i.username}\n        Admin Access: {i.adminAccess}\n        Display Name: {i.displayName}\n      </li>)\n\n      const shops = this.state.shop\n      const shopitems = shops.map((i) => \n        <li key = {i.shopId}>\n            Shop name: {i.name}\n            Description: {i.description}\n        </li>)\n        return (\n            <div className=\"container\">\n                <div className=\"jumbotron mt-5\">\n                    <div className=\"col-sm-8 mx-auto\">\n                        <h1 className=\"text-center\">WELCOME</h1>\n\n                        <input type=\"text\"\n                            className=\"form-control\"\n                            name=\"Search\"\n                            placeholder=\"Search...\"\n                            value={this.state.query}\n                            onChange={this.updateShopName}\n                            />\n                        <Suggestions results = {this.state.shop} />\n                        \n                       {/*{items}*/} \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst Suggestions = (props) => {\n  const data = props  \n  const options = props.results.map((r) => (\n    <li key={r.shopId}>\n      {r.name}\n    </li>\n  ))\n  return <ul>{options}</ul>\n}\n\nexport default Landing\n"]},"metadata":{},"sourceType":"module"}